<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Lua 5.0.3 source code - lauxlib.h</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../lua.css">
<LINK REL="stylesheet" TYPE="text/css" HREF="../source.css">
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=iso-8859-1">
</HEAD>

<BODY>

<H1>
<A HREF="../../home.html"><IMG SRC="../../images/logo.gif" ALT="Lua"></A>
lauxlib.h
<SPAN CLASS="note">(5.0.3)</SPAN>
</H1>

<DIV CLASS="menubar">
<A HREF="./">module index</A>
&middot;
<A HREF="idx.html">name index</A>
&middot;
<A HREF="../">other versions</A>
</DIV>

<PRE>
/*
** $Id: lauxlib.h,v 1.60 2003/04/03 13:35:34 roberto Exp $
** Auxiliary functions for building Lua libraries
** See Copyright Notice in lua.h
*/


#ifndef <A HREF="lauxlib.h.html#lauxlib_h">lauxlib_h</A>
#define <A NAME="lauxlib_h"><SPAN CLASS="definition">lauxlib_h</SPAN></A>


#include &lt;stddef.h&gt;
#include &lt;stdio.h&gt;

#include "<A HREF="lua.h.html">lua.h</A>"


#ifndef <A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A>
#define <A NAME="LUALIB_API"><SPAN CLASS="definition">LUALIB_API</SPAN></A>      <A HREF="lua.h.html#LUA_API">LUA_API</A>
#endif



typedef struct <A NAME="luaL_reg"><SPAN CLASS="definition">luaL_reg</SPAN></A> {
  const char *name;
  <A HREF="lua.h.html#lua_CFunction">lua_CFunction</A> func;
} <A HREF="lauxlib.h.html#luaL_reg">luaL_reg</A>;


<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_openlib">luaL_openlib</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *libname,
                               const <A HREF="lauxlib.h.html#luaL_reg">luaL_reg</A> *l, int nup);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_getmetafield">luaL_getmetafield</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int obj, const char *e);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_callmeta">luaL_callmeta</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int obj, const char *e);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_typerror">luaL_typerror</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int narg, const char *tname);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_argerror">luaL_argerror</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int numarg, const char *extramsg);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> const char *<A HREF="lauxlib.c.html#luaL_checklstring">luaL_checklstring</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int numArg, size_t *l);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> const char *<A HREF="lauxlib.c.html#luaL_optlstring">luaL_optlstring</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int numArg,
                                           const char *def, size_t *l);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> <A HREF="lua.h.html#lua_Number">lua_Number</A> <A HREF="lauxlib.c.html#luaL_checknumber">luaL_checknumber</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int numArg);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> <A HREF="lua.h.html#lua_Number">lua_Number</A> <A HREF="lauxlib.c.html#luaL_optnumber">luaL_optnumber</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int nArg, <A HREF="lua.h.html#lua_Number">lua_Number</A> def);

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_checkstack">luaL_checkstack</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int sz, const char *msg);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_checktype">luaL_checktype</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int narg, int t);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_checkany">luaL_checkany</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int narg);

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int   <A HREF="lauxlib.c.html#luaL_newmetatable">luaL_newmetatable</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *tname);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void  <A HREF="lauxlib.c.html#luaL_getmetatable">luaL_getmetatable</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *tname);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void *<A HREF="lauxlib.c.html#luaL_checkudata">luaL_checkudata</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int ud, const char *tname);

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_where">luaL_where</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int lvl);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_error">luaL_error</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *fmt, ...);

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_findstring">luaL_findstring</A> (const char *st, const char *const lst[]);

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_ref">luaL_ref</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int t);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_unref">luaL_unref</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int t, int ref);

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_getn">luaL_getn</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int t);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_setn">luaL_setn</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, int t, int n);

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_loadfile">luaL_loadfile</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *filename);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int <A HREF="lauxlib.c.html#luaL_loadbuffer">luaL_loadbuffer</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *buff, size_t sz,
                                const char *name);



/*
** ===============================================================
** some useful macros
** ===============================================================
*/

#define <A NAME="luaL_argcheck"><SPAN CLASS="definition">luaL_argcheck</SPAN></A>(L, cond,numarg,extramsg) if (!(cond)) \
                                               <A HREF="lauxlib.c.html#luaL_argerror">luaL_argerror</A>(L, numarg,extramsg)
#define <A NAME="luaL_checkstring"><SPAN CLASS="definition">luaL_checkstring</SPAN></A>(L,n)   (<A HREF="lauxlib.c.html#luaL_checklstring">luaL_checklstring</A>(L, (n), NULL))
#define <A NAME="luaL_optstring"><SPAN CLASS="definition">luaL_optstring</SPAN></A>(L,n,d)   (<A HREF="lauxlib.c.html#luaL_optlstring">luaL_optlstring</A>(L, (n), (d), NULL))
#define <A NAME="luaL_checkint"><SPAN CLASS="definition">luaL_checkint</SPAN></A>(L,n)      ((int)<A HREF="lauxlib.c.html#luaL_checknumber">luaL_checknumber</A>(L, n))
#define <A NAME="luaL_checklong"><SPAN CLASS="definition">luaL_checklong</SPAN></A>(L,n)     ((long)<A HREF="lauxlib.c.html#luaL_checknumber">luaL_checknumber</A>(L, n))
#define <A NAME="luaL_optint"><SPAN CLASS="definition">luaL_optint</SPAN></A>(L,n,d)      ((int)<A HREF="lauxlib.c.html#luaL_optnumber">luaL_optnumber</A>(L, n,(<A HREF="lua.h.html#lua_Number">lua_Number</A>)(d)))
#define <A NAME="luaL_optlong"><SPAN CLASS="definition">luaL_optlong</SPAN></A>(L,n,d)     ((long)<A HREF="lauxlib.c.html#luaL_optnumber">luaL_optnumber</A>(L, n,(<A HREF="lua.h.html#lua_Number">lua_Number</A>)(d)))


/*
** {======================================================
** Generic Buffer manipulation
** =======================================================
*/


#ifndef <A HREF="lauxlib.h.html#LUAL_BUFFERSIZE">LUAL_BUFFERSIZE</A>
#define <A NAME="LUAL_BUFFERSIZE"><SPAN CLASS="definition">LUAL_BUFFERSIZE</SPAN></A>   BUFSIZ
#endif


typedef struct <A NAME="luaL_Buffer"><SPAN CLASS="definition">luaL_Buffer</SPAN></A> {
  char *p;                      /* current position in buffer */
  int lvl;  /* number of strings in the stack (level) */
  <A HREF="lstate.h.html#lua_State">lua_State</A> *L;
  char buffer[<A HREF="lauxlib.h.html#LUAL_BUFFERSIZE">LUAL_BUFFERSIZE</A>];
} <A HREF="lauxlib.h.html#luaL_Buffer">luaL_Buffer</A>;

#define <A NAME="luaL_putchar"><SPAN CLASS="definition">luaL_putchar</SPAN></A>(B,c) \
  ((void)((B)-&gt;p &lt; ((B)-&gt;buffer+<A HREF="lauxlib.h.html#LUAL_BUFFERSIZE">LUAL_BUFFERSIZE</A>) || <A HREF="lauxlib.c.html#luaL_prepbuffer">luaL_prepbuffer</A>(B)), \
   (*(B)-&gt;p++ = (char)(c)))

#define <A NAME="luaL_addsize"><SPAN CLASS="definition">luaL_addsize</SPAN></A>(B,n)       ((B)-&gt;p += (n))

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_buffinit">luaL_buffinit</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, <A HREF="lauxlib.h.html#luaL_Buffer">luaL_Buffer</A> *B);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> char *<A HREF="lauxlib.c.html#luaL_prepbuffer">luaL_prepbuffer</A> (<A HREF="lauxlib.h.html#luaL_Buffer">luaL_Buffer</A> *B);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_addlstring">luaL_addlstring</A> (<A HREF="lauxlib.h.html#luaL_Buffer">luaL_Buffer</A> *B, const char *s, size_t l);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_addstring">luaL_addstring</A> (<A HREF="lauxlib.h.html#luaL_Buffer">luaL_Buffer</A> *B, const char *s);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_addvalue">luaL_addvalue</A> (<A HREF="lauxlib.h.html#luaL_Buffer">luaL_Buffer</A> *B);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> void <A HREF="lauxlib.c.html#luaL_pushresult">luaL_pushresult</A> (<A HREF="lauxlib.h.html#luaL_Buffer">luaL_Buffer</A> *B);


/* }====================================================== */



/*
** Compatibility macros and functions
*/

<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int   <A HREF="lauxlib.c.html#lua_dofile">lua_dofile</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *filename);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int   <A HREF="lauxlib.c.html#lua_dostring">lua_dostring</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *str);
<A HREF="lauxlib.h.html#LUALIB_API">LUALIB_API</A> int   <A HREF="lauxlib.c.html#lua_dobuffer">lua_dobuffer</A> (<A HREF="lstate.h.html#lua_State">lua_State</A> *L, const char *buff, size_t sz,
                               const char *n);


#define <A NAME="luaL_check_lstr"><SPAN CLASS="definition">luaL_check_lstr</SPAN></A>         <A HREF="lauxlib.c.html#luaL_checklstring">luaL_checklstring</A>
#define <A NAME="luaL_opt_lstr"><SPAN CLASS="definition">luaL_opt_lstr</SPAN></A>   <A HREF="lauxlib.c.html#luaL_optlstring">luaL_optlstring</A> 
#define <A NAME="luaL_check_number"><SPAN CLASS="definition">luaL_check_number</SPAN></A>       <A HREF="lauxlib.c.html#luaL_checknumber">luaL_checknumber</A> 
#define <A NAME="luaL_opt_number"><SPAN CLASS="definition">luaL_opt_number</SPAN></A> <A HREF="lauxlib.c.html#luaL_optnumber">luaL_optnumber</A>
#define <A NAME="luaL_arg_check"><SPAN CLASS="definition">luaL_arg_check</SPAN></A>  <A HREF="lauxlib.h.html#luaL_argcheck">luaL_argcheck</A>
#define <A NAME="luaL_check_string"><SPAN CLASS="definition">luaL_check_string</SPAN></A>       <A HREF="lauxlib.h.html#luaL_checkstring">luaL_checkstring</A>
#define <A NAME="luaL_opt_string"><SPAN CLASS="definition">luaL_opt_string</SPAN></A> <A HREF="lauxlib.h.html#luaL_optstring">luaL_optstring</A>
#define <A NAME="luaL_check_int"><SPAN CLASS="definition">luaL_check_int</SPAN></A>  <A HREF="lauxlib.h.html#luaL_checkint">luaL_checkint</A>
#define <A NAME="luaL_check_long"><SPAN CLASS="definition">luaL_check_long</SPAN></A> <A HREF="lauxlib.h.html#luaL_checklong">luaL_checklong</A>
#define <A NAME="luaL_opt_int"><SPAN CLASS="definition">luaL_opt_int</SPAN></A>    <A HREF="lauxlib.h.html#luaL_optint">luaL_optint</A>
#define <A NAME="luaL_opt_long"><SPAN CLASS="definition">luaL_opt_long</SPAN></A>   <A HREF="lauxlib.h.html#luaL_optlong">luaL_optlong</A>


#endif


</PRE>

<P CLASS="footer">
Last update:
Sat Mar  5 09:25:24 2016
</P>

</BODY>
</HTML>
