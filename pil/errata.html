<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Programming in Lua - errata</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../lua.css">
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=iso-8859-1">
<STYLE TYPE="text/css">
span.note {
	color: gray ;
	font-size: small ;
	display: block;
}

dt {
	margin-bottom: 1em ;
}

dd {
	margin-bottom: 1.5em ;
}

pre, code {
	font-size: 12pt ;
}

.old, .new {
	border-radius: 4px;
	margin: -2px  0px -2px  0px ;
	padding: 2px  4px  2px  4px ;
}

.old {
	background-color: #FFDDDD ;
}

.new {
	background-color: #DDDDFF ;
}

.shouldbe, .sbe {
	margin: 0px 8px 0px 8px ;
}

</STYLE>
</HEAD>

<BODY>

<H1>
<A HREF="../home.html"><IMG SRC="../images/logo.gif" ALT="Lua"></A>
Programming in Lua &ndash; errata
</H1>

<DIV CLASS="menubar">
<A HREF="#3ed">third edition</A>
&middot;
<A HREF="#2ed">second edition</A>
&middot;
<A HREF="#1ed">first edition</A>
&middot;
<A HREF="./">book</A>
</DIV>

<H2><A NAME="3ed">Third edition</A></H2>
<A HREF="http://www.amazon.com/exec/obidos/ASIN/859037985X/lua-pilindex-20">
<IMG TITLE="buy at the Lua Bookstore at Amazon" SRC="capa3.jpg" ALT="" BORDER=1 ALIGN="right" HEIGHT=100></A>

<dl>

<dt>page 13, second line
<span class="note">reported by Martin Büttner</span>
<dd>
<code class="old">\x\hh</code>
<span class="sbe">should be</span>
<code class="new">\xhh</code>

<dt>page 35, fifth line
<span class="note">reported by Tony Booer</span>
<dd>
<span class="old">"basic Lua library>"</span>
<span class="sbe">should be</span>
<span class="new">"basic Lua library."</span>

<dt>page 37, first code snippet
<span class="note">reported by Lorenzo Donati</span>
<dd>
<code class="old">else if ...</code>
<span class="sbe">should be</span>
<code class="new">elseif ..</code>.

<dt>page 59, exercise 6.1
<span class="note">reported by Jan Sedlák</span>
<dd>
The description of the problem is not very precise.
It should read like this:<p>
<span class="new">"Write a function <code>integral</code> that
receives a function <code>f</code>
and returns its definite integral function.
This returned function,
when given two values <code>a</code> and <code>b</code>,
returns
an approximation of the integral of <code>f</code>
from <code>a</code> to <code>b</code>"</span>

<dt> page 66, second paragraph
<span class="note"></span>
<dd>
There is this note:<p>
<span class="old">"As we already mentioned,
linked lists are not frequent in Lua,
but sometimes we need them."</span><p>
However, the book did not mention linked lists before this point.

<dt>page 99, first code fragment in section 10.2
<span class="note">reported by Tomas Guisasola</span>
<dd>
<code class="old">allwords</code>
<span class="sbe">should be</span>
<code class="new">allwords()</code> (a function call).

<dt>page 131, second-to-last line
<span class="note">reported by Martin Büttner</span>
<dd>
<code class="old">__leq</code>
<span class="sbe">should be</span>
<code class="new">__le</code>

<dt>page 147
<span class="note">reported by Peter Kazmier</span>
<dd>
<span class="old">"We can load it whit"</span>
<span class="sbe">should be</span>
<span class="new">"We can load it with"</span>

<dt>page 152, third code fragment
<span class="note">reported by Claudio Morgado</span>
<dd>
<code class="old">local f = mod.foo</code>
<span class="sbe">should be</span>
<code class="new">local f = m.foo</code>

<dt>page 158, listing 15.2
<span class="note">reported by Tony Booer</span>
<dd>
<code class="old">local i = complex.new(0, 1)</code>
<span class="sbe">should be</span>
<code class="new">local i = new(0, 1)</code>

<dt>page 177, title of section 17.2
<span class="note"></span>
<dd>
The word "Memoize" (instead of "Memorize") is used on purpose, to refer
to the term "Memoization" (which means "Memorization",
but it is already established).

<dt>page 183, last line
<span class="note">reported by Pete Hollobon</span>
<dd>
<span class="old">"anchors it"</span>
<span class="sbe">should be</span>
<span class="new">"anchor it"</span>

<dt>page 184, first paragraph
<span class="note">reported by Pete Hollobon</span>
<dd>
<span class="old">"make the finalizer creates"</span>
<span class="sbe">should be</span>
<span class="new">"make the finalizer create"</span>

<dt>page 192, last code fragment
<span class="note">reported by Martin Büttner</span>
<dd>
<code class="old">if bit32.or(a, b) == bit32.or(-1) then</code>
<p>should be<p>
<code class="new">if bit32.bor(a, b) == bit32.bor(-1) then</code>

<dt>page 198, exercise 20.1
<span class="note">reported by Patrick</span>
<dd>
There is a missing closing parenthesis in the
print statement.

<dt>page 213, in function <code>unexpandTabs</code>
<span class="note">reported by Tomas Guisasola</span>
<dd>
<code class="old">
s = expandTabs(s)
</code>
<span class="sbe">should be</span>
<code class="new">
s = expandTabs(s, tab)
</code>

<dt>page 217, fourth paragraph
<span class="note">reported by Ana Lúcia de Moura</span>
<dd>
<span class="old">"multi-line sequences"</span>
<span class="sbe">should be</span>
<span class="new">"multi-byte sequences"</span>

<dt>page 225, sixth paragraph
<span class="note">reported by Lorenzo Donati</span>
<dd>
Contrary to what the book says,
<code>io.lines</code> cannot accept a file handle as
its first argument.

<dt>page 226, listing 22.1
<span class="note">reported by Lorenzo Donati</span>
<dd>
The following line should be removed,
as it is useless:<p>
<code class="old">
local f = io.input(arg[1])   -- open input file
</code>

<dt>page 226, last paragraph
<span class="note"></span>
<dd>
The observation
<span class="old">"as long as the pattern does not contain a zero byte"</span>
does not apply to Lua 5.2.
Lua 5.2 handles zero bytes in patterns without problems.

<dt>page 234, last code fragment
<span class="note">reported by Daniele Kazan</span>
<dd>
<code class="old">loadstring</code>
<span class="sbe">should be</span>
<code class="new">load</code>

<dt>page 282, third-to-last paragraph
<span class="note">reported by Martin Büttner</span>
<dd>
<code class="old">lua_pcall</code>
<span class="sbe">should be</span>
<code class="new">lua_call</code>

<dt>page 292, exercises 28.4 and 28.6
<span class="note">reported by Daniele Kazan</span>
<dd>
<span class="old">"tranliterate"</span>
<span class="sbe">should be</span>
<span class="new">"transliterate"</span>

<dt>page 323, section 31.2
<span class="note">reported by Andrew Starks</span>
<dd>
There are a few errors in the code for the library <code>lproc</code>
described in this section:
a few missing <code>#include</code>s and
the use of two deprecated entities,
<code>luaL_reg</code> and <code>luaL_register</code>.
See the <a href="3/lproc.c">correct code</a> for
the complete example.

</dL>

<H2><A NAME="2ed">Second edition</A></H2>

<P>
No errata available.

<H2><A NAME="1ed">First edition</A></H2>

<P>
See
<A HREF="http://www.inf.puc-rio.br/~roberto/book/errata1.html">this page</A>
for the errata.

<P CLASS="footer">
Last update:
Fri May 22 16:54:23 BRT 2015
</P>
<!--
Last change: new item (page 152)
-->

</BODY>
</HTML>
